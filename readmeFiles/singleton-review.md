# 싱글톤 패턴 복습

## 자바에서 enum을 사용하지 않고 싱글톤 패턴을 구현하는 방법
다양한 방법이 있지만, 성능 측면에서 생각했을 때 static innerClass 를 통한 싱글톤 패턴 구현을 선호한다.  
`classHolder` 라는 innerClass에 outerClass 인스턴스를(eager) 생성하여 `outerClass.getInstance()` 메소드에서 일관된 인스턴스를 반환할 수 있도록 한다.  

하지만 치명적이지는 않지만 유일한 단점을 꼽자면.. (백기선 개발자님 답변)
> 인스턴스를 필요한 순간에 만드는 "초기화 지연" (lazy initialization)을 사용하지 못한다는 이야기입니다.  
> 그렇게 되면 만약에 해당 인스턴스가 만드는데 메모리를 많이 사용하고, 시간이 오래 걸린다면 애플리케이션 구동시 시간과 그만큼의 비용이 쓰이겠죠.  
> 또 더 나아가, 그럴일은 많지 않겠지만 혹여나 그렇게 만든 인스턴스를 사용하지 않는다면 그 자체로 허무하게 비용을 쓴거니까 문제가 될테구요.


## private 생성자와 static 메소드를 사용하는 방법의 단점은?
double-checked singleton 과 eager-loading singleton 이 있을텐데 두개 다 리플랙션으로 조작 가능하다는 단점이 있다.

## enum을 사용해 싱글톤 패턴을 구현하는 방법의 장점과 단점.
리플렉션을 통해 조작이 불가능 하다는 점, 구현이 간단하다는 점이 장점이다.  
eager 이며 (lazy 하지 않음), enum class 끼리만 상속 된다는 단점이 있다.